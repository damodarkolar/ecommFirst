<!DOCTYPE html>
<html lang="en">
<head>
    <title>Payment page</title>
    <style>
        body{
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #container{
            width: 350px;
            display: flex;
            flex-direction: column;
            height: 360px;
            margin: 10px;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
        }
        #container>div{
            margin: 5px;
            width: 230px;
        }
        #container>#expDate{
            display: flex;
            justify-content: space-between;
        }
        #expDate>input{
            width: 32%;
        }
        #cardNumber{
            width: 90%;
        }
        #nameonCard>input{
            width: 230px;
        }
        #makePayment>button{
            max-width: 230px;
        }
        #totalPayment{
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="totalPayment"> </div>
        <form action=""id="cardDetailsEntry">
            <input type="number" placeholder="Card Number" id="cardNumber">
            <select name="" id="cardMonth">
                <option value="null">Select</option>
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <option value="04">04</option>
                <option value="05">05</option>
                <option value="06">06</option>
                <option value="07">07</option>
                <option value="08">08</option>
                <option value="09">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
            </select>
            <input type="number" name="" id="expYear" placeholder="YYYY">
            <input type="number" placeholder="CVV" id="cardCvv">
            <input type="text" id="nameOnTheCard" placeholder="Name on the card">
            <input type="submit" value="Pay Now">
        </form>       
    </div>
</body>
<script>
     window.addEventListener("load",finalamount);
     document.querySelector("#cardDetailsEntry").addEventListener("submit",cardValidation);     


    function cardValidation(){
        event.preventDefault();
        var cardNumberValue=document.querySelector("#cardNumber").value;
        var cardMonthValue=document.querySelector("#cardMonth").value;
        var cardYearvValue=document.querySelector("#expYear").value;
        var cardCvvValue=document.querySelector("#cardCvv").value;
        var cardNamevalue=document.querySelector("#nameOnTheCard").value;

        if(cardNumberValue.length===16 && cardMonthValue.length===2 && cardCvvValue.length===3 && +cardYearvValue>=2022 && cardNamevalue !=""){
            window.location.href="./otp.html";
        }
        else{
            alert("Error");
        }        
    }
        


   
    function finalamount(){
        var totalAmount;
    if(localStorage.getItem("finalAmount")===null){
        alert("Please add the Items in the cart")
        window.location.href="./home.html";
    }else{
        totalamount=localStorage.getItem("finalAmount");
        var headingElement=document.createElement("h2");
        headingElement.innerText='Toatal amount='+totalamount+"/-";
        document.querySelector("#totalPayment").append(headingElement)
    }
    }
    
</script>
</html>